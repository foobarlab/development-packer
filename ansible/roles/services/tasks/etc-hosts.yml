---
# vim: syntax=yaml

- name: /etc/hosts - add custom entries
  blockinfile:
    path: /etc/hosts
    marker: "# {mark} ANSIBLE MANAGED BLOCK (etc_hosts.yml)"
    block: |
      127.0.0.1   localhost localhost.localdomain {{ default_domainname }} {{ ansible_hostname }}.local {{ ansible_hostname }}
      ::1         localhost localhost.localdomain {{ default_domainname }} {{ ansible_hostname }}.local {{ ansible_hostname }}

# see: https://docs.ansible.com/ansible/latest/modules/blockinfile_module.html
#- name: Add mappings to /etc/hosts
#  blockinfile:
#    path: /etc/hosts
#    block: |
#      {{ item.ip }} {{ item.name }}
#    marker: "# {mark} ANSIBLE MANAGED BLOCK {{ item.name }}"
#  loop:
#    - { name: host1, ip: 10.10.1.10 }
#    - { name: host2, ip: 10.10.1.11 }
#    - { name: host3, ip: 10.10.1.12 }
